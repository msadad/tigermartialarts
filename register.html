<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <title>Tiger Martial Arts</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">


    <!-- Additional CSS Files -->
    <link rel="stylesheet" href="assets/css/fontawesome.css">
    <link rel="stylesheet" href="assets/css/templatemo-lugx-gaming.css">
    <link rel="stylesheet" href="assets/css/owl.css">
    <link rel="stylesheet" href="assets/css/animate.css">
    <link rel="stylesheet"href="https://unpkg.com/swiper@7/swiper-bundle.min.css"/>

  </head>

<body>

  <!-- ***** Preloader Start ***** -->
  <div id="js-preloader" class="js-preloader">
    <div class="preloader-inner">
      <span class="dot"></span>
      <div class="dots">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>
  <!-- ***** Preloader End ***** -->

  <!-- ***** Header Area Start ***** -->
  <header class="header-area header-sticky">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <nav class="main-nav">
                    <!-- ***** Logo Start ***** -->
                    <a href="index.html" class="logo">
                        <img src="https://i.postimg.cc/Z5jz7sVc/shotokan-tiger-karate-logo-emblem-black-on-red-sticker-removebg-preview.png" alt="" style="width: 158px;">
                    </a>
                    <!-- ***** Logo End ***** -->
                    <!-- ***** Menu Start ***** -->
                    <ul class="nav">
                      <li><a href="index.html" class="active">Home</a></li>
                      <li><a href="about.html">About</a></li>
                      <li><a href="martialarts.html">Martial Arts</a></li>
                      <li><a href="classes.html">Classes</a></li>
                      <li><a href="memberships.html">Memberships</a></li>
                      <li><a href="contacts.html">Contact Us</a></li>
                      <li><a href="instructors.html">Instructors</a></li>
                      <li><a href="register.html">Login / Create Account</a></li>
                  </ul>   
                    <a class='menu-trigger'>
                        <span>Menu</span>
                    </a>
                    <!-- ***** Menu End ***** -->
                </nav>
            </div>
        </div>
    </div>
  </header>
  <!-- ***** Header Area End ***** -->

    <div class="main-banner">
    <div class="container">
      <div class="row">
        <div class="col-lg-6 align-self-center">
          <div class="caption header-text">
            <h6> </h6>
            <h2>Register</h2>
            
              </form>
            </div>
          </div>
        </div>
        <div class="col-lg-4 offset-lg-2">
          <div class="right-image">
  
          </div>
        </div>
      </div>
    </div>
  </div>

<section class="register-section py-5" style="background-color: #f5f5f5;">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="card shadow-lg border-0 rounded-4">
          <div class="row g-0">
            <!-- Left side: image or graphic -->
            <div class="col-md-6 d-none d-md-block">
              <img src="https://images.stockcake.com/public/6/7/a/67af63d2-e3e7-43dd-a175-d10c577ffbcd_large/dynamic-taekwondo-kick-stockcake.jpg" alt="Register" class="img-fluid rounded-start" style="height: 100%; object-fit: cover;">
            </div>

            <!-- Right side: form -->
            <div class="col-md-6">
              <div class="card-body p-4">
                <h4 class="card-title text-center mb-3">Create Your Account</h4>

                <!-- Social Buttons -->
                <div class="d-flex flex-column mb-3">
                  <a href="your-google-oauth-link" class="btn btn-outline-danger mb-2 w-100">
                    <i class="fab fa-google me-2"></i> Continue with Google
                  </a>
                  <a href="your-facebook-oauth-link" class="btn btn-outline-primary w-100">
                    <i class="fab fa-facebook-f me-2"></i> Continue with Facebook
                  </a>
                </div>

                <div class="text-center mb-3 text-muted">or use your email to register</div>

                <!-- Registration Form -->

  <div class="form-group mb-3">
    <input type="text" id="full_name" class="form-control" name="fullname" placeholder="Full Name" required>
  </div>
  <div class="form-group mb-3">
    <input type="email" id="email" class="form-control" name="email" placeholder="Email Address" required>
  </div>
  <div class="form-group mb-3">
    <input type="password" id="password" class="form-control" name="password" placeholder="Password" required>
  </div>
  <button type="submit" class="btn btn-success w-100" onclick="register()">Register</button>
  <button type="submit" class="btn btn-success w-100" onclick="login()">Login</button>



                <div class="text-center mt-3">
                  <small>Already have an account? <a href="login.html">Login here</a></small>
                </div>
              </div>
            </div>
          </div> <!-- end row -->
        </div> <!-- end card -->
      </div>
    </div>
  </div>
</section>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">




  

<footer class="bg-dark text-light pt-5 pb-5 mt-5" style="padding-bottom: 100px;">
  <div class="container text-center">
    <div class="row">
      <div class="col-lg-12">
        <img src="https://i.postimg.cc/Z5jz7sVc/shotokan-tiger-karate-logo-emblem-black-on-red-sticker-removebg-preview.png" alt="Tiger Martial Arts Logo" style="width: 80px; margin-bottom: 15px;">
        <p class="mb-3">Tiger Martial Arts Academy, Al Barsha 1, Dubai, UAE</p>
        <div class="mb-3">
          <a href="https://www.instagram.com/" target="_blank" style="color: #fff; margin: 0 10px;"><i class="fab fa-instagram"></i></a>
          <a href="https://www.facebook.com/" target="_blank" style="color: #fff; margin: 0 10px;"><i class="fab fa-facebook-f"></i></a>
          <a href="https://wa.me/971XXXXXXXXX" target="_blank" style="color: #fff; margin: 0 10px;"><i class="fab fa-whatsapp"></i></a>
          <a href="mailto:info@tigermartialarts.com" style="color: #fff; margin: 0 10px;"><i class="fas fa-envelope"></i></a>
        </div>
   
      </div>
    </div>
  </div>
</footer>


  <!-- Scripts -->
  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.min.js"></script>
  <script src="assets/js/isotope.min.js"></script>
  <script src="assets/js/owl-carousel.js"></script>
  <script src="assets/js/counter.js"></script>
  <script src="assets/js/custom.js"></script>


 <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
 
 
    <!-- Our script must be loaded after firebase references -->
    <script>
         // Your web app's Firebase configuration
 var firebaseConfig = {
    apiKey: "AIzaSyCYKkZHAmWanJ2rmphxv9g3NqiXfOC9vpw",
    authDomain: "martialarts-532ff.firebaseapp.com",
    projectId: "martialarts-532ff",
    storageBucket: "martialarts-532ff.firebasestorage.app",
    messagingSenderId: "572839729938",
    appId: "1:572839729938:web:9b9231dfa06824394c71cb"
  };
// Initialize Firebase
firebase.initializeApp(firebaseConfig);
// Initialize variables
const auth = firebase.auth()
const database = firebase.database()
 
// Set up our register function
function register () {
  // Get all our input fields
  email = document.getElementById('email').value
  password = document.getElementById('password').value
  full_name = document.getElementById('full_name').value

 
  // Validate input fields
  if (validate_email(email) == false || validate_password(password) == false) {
    alert('Email or Password is Outta Line!!')
    return
    // Don't continue running the code
  }
 
 
  // Move on with Auth
  auth.createUserWithEmailAndPassword(email, password)
  .then(function() {
    // Declare user variable
    var user = auth.currentUser
 
    // Add this user to Firebase Database
    var database_ref = database.ref()
 
    // Create User data
    var user_data = {
      email : email,
      full_name : full_name,
      last_login : Date.now()
    }
 
    // Push to Firebase Database
    database_ref.child('userdetails/' + user.uid).set(user_data)
 
    // DOne
    alert('User Created!!')
  })
  .catch(function(error) {
    // Firebase will use this to alert of its errors
    var error_code = error.code
    var error_message = error.message
 
    alert(error_message)
  })
}
 
// Set up our login function
function login () {
  // Get all our input fields
  full_name = document.getElementById('full_name').value
  email = document.getElementById('email').value
  password = document.getElementById('password').value
 
  // Validate input fields
  if (validate_email(email) == false || validate_password(password) == false) {
    alert('Email or Password is Outta Line!!')
    return
    // Don't continue running the code
  }
 
  auth.signInWithEmailAndPassword(email, password)
  .then(function() {
    // Declare user variable
    var user = auth.currentUser
 
    // Add this user to Firebase Database
    var database_ref = database.ref()
 
    // Create User data
    var user_data = {
      last_login : Date.now()
    }
// üîç Fetch the full name from Firebase Database
    database.ref('userdetails/' + user.uid).once('value').then(function(snapshot) {
      var full_name = snapshot.val().full_name;
 
      alert("User is logged in")
      // ‚úÖ Now redirect with name in URL
      window.location.href = "dashboard.html?name=" + encodeURIComponent(full_name);
    });
 
 
  })
  .catch(function(error) {
    // Firebase will use this to alert of its errors
    var error_code = error.code
    var error_message = error.message
 
    alert(error_message)
  })
}
 
 
 
 
// Validate Functions
function validate_email(email) {
  expression = /^[^@]+@\w+(\.\w+)+\w$/
  if (expression.test(email) == true) {
    // Email is good
    return true
  } else {
    // Email is not good
    return false
  }
}
 
function validate_password(password) {
  // Firebase only accepts lengths greater than 6
  if (password < 6) {
    return false
  } else {
    return true
  }
}
 
function validate_field(field) {
  if (field == null) {
    return false
  }
 
  if (field.length <= 0) {
    return false
  } else {
    return true
  }
}
    </script>










  </body>
</html>